(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/changePassword"],{152:
/*!***********************************************************************!*\
  !*** D:/code/2.0app/main.js?{"page":"pages%2Fmine%2FchangePassword"} ***!
  \***********************************************************************/
/*! no static exports found */function(n,t,e){"use strict";(function(n){e(/*! uni-pages */4);s(e(/*! vue */2));var t=s(e(/*! ./pages/mine/changePassword.vue */153));function s(n){return n&&n.__esModule?n:{default:n}}n(t.default)}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},153:
/*!****************************************************!*\
  !*** D:/code/2.0app/pages/mine/changePassword.vue ***!
  \****************************************************/
/*! no static exports found */function(n,t,e){"use strict";e.r(t);var s=e(/*! ./changePassword.vue?vue&type=template&id=24139584& */154),a=e(/*! ./changePassword.vue?vue&type=script&lang=js& */156);for(var i in a)"default"!==i&&function(n){e.d(t,n,(function(){return a[n]}))}(i);var r,o=e(/*! ../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */11),c=Object(o["default"])(a["default"],s["render"],s["staticRenderFns"],!1,null,null,null,!1,s["components"],r);c.options.__file="pages/mine/changePassword.vue",t["default"]=c.exports},154:
/*!***********************************************************************************!*\
  !*** D:/code/2.0app/pages/mine/changePassword.vue?vue&type=template&id=24139584& ***!
  \***********************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(n,t,e){"use strict";e.r(t);var s=e(/*! -!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changePassword.vue?vue&type=template&id=24139584& */155);e.d(t,"render",(function(){return s["render"]})),e.d(t,"staticRenderFns",(function(){return s["staticRenderFns"]})),e.d(t,"recyclableRender",(function(){return s["recyclableRender"]})),e.d(t,"components",(function(){return s["components"]}))},155:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/code/2.0app/pages/mine/changePassword.vue?vue&type=template&id=24139584& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(n,t,e){"use strict";var s;e.r(t),e.d(t,"render",(function(){return a})),e.d(t,"staticRenderFns",(function(){return r})),e.d(t,"recyclableRender",(function(){return i})),e.d(t,"components",(function(){return s}));var a=function(){var n=this,t=n.$createElement,e=(n._self._c,n.$i18nMsg("lang-change-password-apiot")),s=n.$i18nMsg("lang-change-password-serve"),a=n.$i18nMsg("lang-change-password-strength"),i=n.$i18nMsg("lang-myself-OldPassword"),r=n.$i18nMsg("lang-change-password-enter-old"),o=n.$i18nMsg("lang-myself-NewPassword"),c=n.$i18nMsg("lang-change-password-enter"),u=n.$i18nMsg("lang-myself-ConfirmNewPassword"),l=n.$i18nMsg("lang-change-password-enter-again"),g=n.$i18nMsg("lang-save");n.$mp.data=Object.assign({},{$root:{m0:e,m1:s,m2:a,m3:i,m4:r,m5:o,m6:c,m7:u,m8:l,m9:g}})},i=!1,r=[];a._withStripped=!0},156:
/*!*****************************************************************************!*\
  !*** D:/code/2.0app/pages/mine/changePassword.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************/
/*! no static exports found */function(n,t,e){"use strict";e.r(t);var s=e(/*! -!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changePassword.vue?vue&type=script&lang=js& */157),a=e.n(s);for(var i in s)"default"!==i&&function(n){e.d(t,n,(function(){return s[n]}))}(i);t["default"]=a.a},157:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/code/2.0app/pages/mine/changePassword.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(n,t,e){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=e(/*! vuex */8),a=c(e(/*! vue */2)),i=c(e(/*! @/static/images/safe.png */158)),r=c(e(/*! @/store/state.js */13)),o=c(e(/*! @/static/js/encryptionPSW.js */82));function c(n){return n&&n.__esModule?n:{default:n}}function u(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,s)}return e}function l(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?u(Object(e),!0).forEach((function(t){g(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function g(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var d=function(){Promise.all(/*! require.ensure | components/plugin/uploadImgs/sunui-upimg-basic */[e.e("common/vendor"),e.e("components/plugin/uploadImgs/sunui-upimg-basic")]).then(function(){return resolve(e(/*! @/components/plugin/uploadImgs/sunui-upimg-basic.vue */455))}.bind(null,e)).catch(e.oe)},p=function(){e.e(/*! require.ensure | components/element/m-inputLable */"components/element/m-inputLable").then(function(){return resolve(e(/*! ../../components/element/m-inputLable.vue */399))}.bind(null,e)).catch(e.oe)},h={components:{mUpload:d,mInputLable:p},data:function(){return{barTitle:this.$i18nMsg("lang-change-password-security-settings"),username:r.default.userName,userId:r.default.userId,oldPassWord:"",newPassWord:"",checkPassWord:"",iconSize:48,Strength:1,Strengthname:this.$i18nMsg("lang-change-password-low"),static_passwordIcon:["iconmimaxianshi","iconmimayincang","iconmimayincang"],inputType_:["text","password","password"],safeImage:i.default}},computed:l({},(0,s.mapState)(["passwordStrength"]),{},(0,s.mapState)("home",{bottomList:"bottomList"})),watch:{newPassWord:function(n,t){this.checkPassword(n)}},methods:{handleTopClick:function(){var t="/pages/home/home?pageType=myself";n.navigateTo({url:t})},fontIconClick:function(n){"iconmimayincang"===this.static_passwordIcon[n]?(a.default.set(this.static_passwordIcon,n,"iconmimaxianshi"),a.default.set(this.inputType_,n,"text")):"iconmimaxianshi"===this.static_passwordIcon[n]&&(a.default.set(this.static_passwordIcon,n,"iconmimayincang"),a.default.set(this.inputType_,n,"password"))},checkPassword:function(n){var t=0;/\d/.test(n)&&n.length>8&&t++,/[a-z]/.test(n)&&t++,/[A-Z]/.test(n)&&t++,/[~!@#%_*]/.test(n)&&t++,t<2?(this.Strength=1,this.Strengthname=this.$i18nMsg("lang-change-password-low")):t>3?(this.Strength=3,this.Strengthname=this.$i18nMsg("lang-change-password-high")):(this.Strength=2,this.Strengthname=this.$i18nMsg("lang-change-password-medium"))},changePassword:function(){var t=this;console.log("changePassword");var e=this;if(""==e.oldPassWord)return n.showToast({title:e.$i18nMsg("lang-change-password-old"),duration:500,icon:"none"}),!1;if(""==e.newPassWord||""==e.checkPassWord)return n.showToast({title:e.$i18nMsg("lang-change-password-new-none"),duration:500,icon:"none"}),!1;if(e.newPassWord!=e.checkPassWord)return n.showToast({title:e.$i18nMsg("lang-change-password-new"),duration:500,icon:"none"}),!1;var s={oldPassWord:this.oldPassWord,newPassWord:this.newPassWord,checkPassWord:this.checkPassWord};s=(0,o.default)(s),this.$http.post("user/updatePassWord",s).then((function(s){s.data.success&&(n.showToast({title:e.$i18nMsg("lang-myself-SuccessfulPasswordModification"),duration:1e3,icon:"none"}),e.$http.post("logout").then((function(t){var e=t.data;if(e.success){var s="/pages/login/login";n.redirectTo({url:s})}})).catch((function(n){t.Static_GlobalFucs.showToast({title:n})})))})).catch((function(n){t.Static_GlobalFucs.showToast({title:n})}))},checkfingerprint:function(){plus.fingerprint.isSupport()?plus.fingerprint.isKeyguardSecure()?plus.fingerprint.isEnrolledFingerprints()?this.fingerpring():plus.nativeUI.toast(this.$i18nMsg("lang-change-password-fingerprint-tip")):plus.nativeUI.toast(this.$i18nMsg("lang-change-password-not-fingerprint")):plus.nativeUI.toast(this.$i18nMsg("lang-change-password-device-not-fingerprint"))},fingerpring:function(){plus.fingerprint.authenticate((function(){plus.nativeUI.closeWaiting(),console.log("指纹识别成功")}),(function(n){switch(n.code){case n.AUTHENTICATE_MISMATCH:plus.nativeUI.toast(this.$i18nMsg("lang-change-password-fingerprint-reset"));break;case n.AUTHENTICATE_OVERLIMIT:plus.nativeUI.closeWaiting(),plus.nativeUI.alert(this.$i18nMsg("lang-change-password-fingerprint-reset-num"));break;default:plus.nativeUI.closeWaiting(),plus.nativeUI.alert("".concat(this.$i18nMsg("lang-change-password-fingerprint-faile"),"(").concat(n.code,"),").concat(this.$i18nMsg("lang-change-password-fingerprint-again")));break}})),"Android"==plus.os.name&&plus.nativeUI.showWaiting(this.$i18nMsg("lang-change-password-fingerprint-identify")+"...")}},mounted:function(){}};t.default=h}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])}},[[152,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/mine/changePassword.js.map
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pageComs/bottomBtnsComs"],{513:
/*!**************************************************!*\
  !*** D:/code/2.0app/pageComs/bottomBtnsComs.vue ***!
  \**************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var a=n(/*! ./bottomBtnsComs.vue?vue&type=template&id=257143f8& */514),r=n(/*! ./bottomBtnsComs.vue?vue&type=script&lang=js& */516);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);var o,s=n(/*! ../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */11),u=Object(s["default"])(r["default"],a["render"],a["staticRenderFns"],!1,null,null,null,!1,a["components"],o);u.options.__file="pageComs/bottomBtnsComs.vue",e["default"]=u.exports},514:
/*!*********************************************************************************!*\
  !*** D:/code/2.0app/pageComs/bottomBtnsComs.vue?vue&type=template&id=257143f8& ***!
  \*********************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";n.r(e);var a=n(/*! -!../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bottomBtnsComs.vue?vue&type=template&id=257143f8& */515);n.d(e,"render",(function(){return a["render"]})),n.d(e,"staticRenderFns",(function(){return a["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return a["recyclableRender"]})),n.d(e,"components",(function(){return a["components"]}))},515:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/code/2.0app/pageComs/bottomBtnsComs.vue?vue&type=template&id=257143f8& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";var a;n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return o})),n.d(e,"recyclableRender",(function(){return i})),n.d(e,"components",(function(){return a}));var r=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.buttons,(function(e,n){var a=t.showByPermissiones(e.baseType,e.visiabled,e.type),r=t.btnInfo(e);return{$orig:t.__get_orig(e),m0:a,m1:r}})));t.$mp.data=Object.assign({},{$root:{l0:n}})},i=!1,o=[];r._withStripped=!0},516:
/*!***************************************************************************!*\
  !*** D:/code/2.0app/pageComs/bottomBtnsComs.vue?vue&type=script&lang=js& ***!
  \***************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var a=n(/*! -!../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bottomBtnsComs.vue?vue&type=script&lang=js& */517),r=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=r.a},517:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/code/2.0app/pageComs/bottomBtnsComs.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=l(n(/*! @/static/js/bus */204)),r=n(/*! vuex */8),i=n(/*! @/common/functions/element.js */396),o=n(/*! @/common/constant/triggers.js */57),s=n(/*! @/common/functions/trigger.js */55),u=l(n(/*! ./btnsComs.js */490));function l(t){return t&&t.__esModule?t:{default:t}}function c(t){return d(t)||f(t)||b(t)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(t,e){if(t){if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function f(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function d(t){if(Array.isArray(t))return p(t)}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){I(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=new u.default,T={props:{tabInfo:{type:Object,default:function(){return{}}},btnBasicInfo:{type:Object,default:function(){return{normalEvent:["normalBtn","jumpMenuBtn","jumpTabBtn"],delEvent:["delBtn"],saveEvent:["saveBtn","archiveBtn","normalArchiveBtn"]}}}},data:function(){return{comBoxVisible:!1,btnDisable:!1,bundlesList:[]}},computed:v({},(0,r.mapState)(["GlobalIds","isOriginHei"]),{},(0,r.mapState)("common",{tabsElements:"tabsElements",tabsFormDatas:"tabsFormDatas",submitTabsDatas:"submitTabsDatas",frameUId:"frameUId"}),{},(0,r.mapState)("form",["currentBottomBtns"]),{},(0,r.mapState)("verificationRule",{rules:"rules",checkedFlag:"checkedFlag"}),{},(0,r.mapState)("home",["bottomList","workSpaceList","topCoreList"]),{btnInfo:function(){return function(t){var e=[4,5,6,24,43,44],n=t.baseType,a=t.checkedForm,r=void 0===a?1:a,i=t.elementFormat,o=t.type,s=t.relationTabId,u=t.relationTableName,l=t.elementId,c=t.jumpMenuList,m=t.jumpTabList,b=-1!==e.indexOf(n)?0:r,f=i;if(!f){var d=[24,43,44];f=-1!==d.indexOf(n)?0:"list"===this.tabInfo.templateType&&6===n?0:2}return{type:o,relationTabId:s,relationTableName:u,elementId:l,elementFormat:f,static_checkedForm:b,jumpMenuList:c,jumpTabList:m}}},buttons:function(){var t=this.tabInfo.mobileTabId;return this.currentBottomBtns[t]}}),methods:v({},(0,r.mapMutations)(["SET_FRAMETYPE"]),{},(0,r.mapMutations)("framsStore",["SET_FRAMS_JUMParams","SET_FRAMS_JUMINParams"]),{},(0,r.mapMutations)("common",["SET_TEMPLATE_PARAMS","SET_FORMREFRESH_PARENT"]),{showByPermissiones:function(t,e,n){if(!e)return!1;var a=this.btnBasicInfo.saveEvent||[],r=this.btnBasicInfo.normalEvent||[],i=this.btnBasicInfo.delEvent||[];if(-1===a.indexOf(n)&&-1===i.indexOf(n)&&-1===r.indexOf(n))return!1;var o=this.tabInfo.bundleId;return this.Static_GlobalFucs.Permissiones(o,t,this.tabInfo.formType)},getJumpBundleParam:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t){var e={passParam:t,mobileTabId:this.tabInfo.mobileTabId,tabsElements:this.tabsElements,tabsFormDatas:this.tabsFormDatas},n=y.getJumpBundleParam(e,this);return n&&this.SET_FRAMS_JUMParams({source:this.tabInfo.bundleId,value:n}),n||{}}},handleBtnClick:function(t){this.$emit("checkedForm",{static_checkedForm:t.static_checkedForm});var e=this.tabInfo.mobileTabId,n=this.checkedFlag[e];if(1!==t.static_checkedForm||n)if(t=v({},this.tabInfo,{},this.btnBasicInfo,{},t),t.submitFormData=this.submitTabsDatas[e]||{},"list"===this.tabInfo.templateType&&(t.submitFormData.ids=this.GlobalIds.join(",")),"list"!==this.tabInfo.templateType||"delBtn"!==t.type||t.submitFormData.ids){"saveBtn"===t.type&&"multiple"===this.tabInfo.formType&&this.GlobalIds.length>0&&(t.submitFormData.static_ids=this.GlobalIds.join(","),"id"in t.submitFormData&&delete t.submitFormData.id,t.type="batchSaveBtn");var a="tab";if(t.jumpMenuList&&t.jumpMenuList.length&&(a="menu"),console.log("tab============================="),"menu"===a){var r=this.getAccordBundle(t.jumpMenuList);if(r){var i=r.jumpBundleId,o=r.passParam;t.jumpBundleId=i,t.jumpBundleParam=this.getJumpBundleParam(o)||{},t.bundlesList=this.bundlesList}}else{console.log("tab=============================");var s=this.getAccordBundle(t.jumpTabList);if(s){var u=s.jumpMobileTabId,l=s.relationTabId;t.relationTabId=u||l}}var c=t.submitFormData.static_elementId;c&&(t.type="saveBtn",delete t.submitFormData.id),y.click(t,this)}else this.Static_GlobalFucs.showToast({title:this.$i18nMsg("lang-BRAT-delTip")})},isEligible:function(t){var e=this;if(t){var n={otherTabId:this.tabInfo.relationMainTab,mobileTabId:this.tabInfo.mobileTabId,bundleParams:this.tabInfo.bundleParams,tabsElements:this.tabsElements,tabsFormDatas:this.tabsFormDatas},a=[];try{a=JSON.parse(t)}catch(m){a=[]}for(var r=!0,i=function(t,i){var u=a[t],l=u.key,c=u.cond,m=u.value,b=e.Static_GlobalFucs.Global_ParamFormat(v({},{key:l},{},n),e),f=e.Static_GlobalFucs.Global_ParamFormat(v({},{key:m},{},n),e);b="".concat(b.id),f="".concat(f.id);var d=o.TRIGGER_Conditions.find((function(t){return t.name===c}));if(!(0,s.TRIGGRT_ConditionFnc)(d,f,b))return r=!1,"break"},u=0,l=a.length;u<l;u++){var c=i(u,l);if("break"===c)break}return r}return!0},getAccordBundle:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e="",n=0,a=t.length;n<a;n++){var r=t[n]||{};if(this.isEligible(r.preconditions)){e=v({},r);break}}return e},loading:function(t){this.btnDisable=t||!1},btnBack:function(e){if(this.btnDisable=!1,2===e)a.default.$emit(this.tabInfo.parentKey,this.tabInfo.refreshParams),t.navigateBack();else if(1===e)a.default.$emit(this.tabInfo.selfKey,this.tabInfo.refreshParams);else if(3===e){var n=(0,i.ELEMENT_BACKFRAME)({frameUId:this.frameUId}),r=n.pageNum-(n.pageIndex+1),o="";o="form"===n.templateType?"formReload".concat(this.frameUId):"listReload".concat(this.frameUId),a.default.$emit(o,this.tabInfo.refreshParams),t.navigateBack({delta:r,animationType:"slide-out-right"})}},btnEvent:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this;n.tip?this.Static_GlobalFucs.showToast({title:n.tipContent,mask:!0,complete:function(){setTimeout((function(){t.hideToast(),a.btnBack(e)}),600)}}):this.btnBack(e)}}),created:function(){var t=[];for(var e in this.workSpaceList){var n=this.workSpaceList[e];t=[].concat(c(t),c(n.list))}console.log(this.buttons),this.bundlesList=[].concat(c(this.bottomList),c(t))}};e.default=T}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])}}]);
//# sourceMappingURL=../../.sourcemap/mp-weixin/pageComs/bottomBtnsComs.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pageComs/bottomBtnsComs-create-component',
    {
        'pageComs/bottomBtnsComs-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(513))
        })
    },
    [['pageComs/bottomBtnsComs-create-component']]
]);

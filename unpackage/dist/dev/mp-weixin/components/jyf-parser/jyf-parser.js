(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/jyf-parser/jyf-parser"],{669:
/*!***********************************************************!*\
  !*** D:/code/2.0app/components/jyf-parser/jyf-parser.vue ***!
  \***********************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./jyf-parser.vue?vue&type=template&id=eab15eb8& */670),s=n(/*! ./jyf-parser.vue?vue&type=script&lang=js& */672);for(var r in s)"default"!==r&&function(t){n.d(e,t,(function(){return s[t]}))}(r);n(/*! ./jyf-parser.vue?vue&type=style&index=0&lang=css& */677);var o,a=n(/*! ../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */11),c=Object(a["default"])(s["default"],i["render"],i["staticRenderFns"],!1,null,null,null,!1,i["components"],o);c.options.__file="components/jyf-parser/jyf-parser.vue",e["default"]=c.exports},670:
/*!******************************************************************************************!*\
  !*** D:/code/2.0app/components/jyf-parser/jyf-parser.vue?vue&type=template&id=eab15eb8& ***!
  \******************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";n.r(e);var i=n(/*! -!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jyf-parser.vue?vue&type=template&id=eab15eb8& */671);n.d(e,"render",(function(){return i["render"]})),n.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return i["recyclableRender"]})),n.d(e,"components",(function(){return i["components"]}))},671:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/code/2.0app/components/jyf-parser/jyf-parser.vue?vue&type=template&id=eab15eb8& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";var i;n.r(e),n.d(e,"render",(function(){return s})),n.d(e,"staticRenderFns",(function(){return o})),n.d(e,"recyclableRender",(function(){return r})),n.d(e,"components",(function(){return i}));var s=function(){var t=this,e=t.$createElement;t._self._c},r=!1,o=[];s._withStripped=!0},672:
/*!************************************************************************************!*\
  !*** D:/code/2.0app/components/jyf-parser/jyf-parser.vue?vue&type=script&lang=js& ***!
  \************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var i=n(/*! -!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jyf-parser.vue?vue&type=script&lang=js& */673),s=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=s.a},673:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/code/2.0app/components/jyf-parser/jyf-parser.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,s=function(){n.e(/*! require.ensure | components/jyf-parser/libs/trees */"components/jyf-parser/libs/trees").then(function(){return resolve(n(/*! ./libs/trees */710))}.bind(null,n)).catch(n.oe)},r={},o=(n(/*! ./libs/CssHandler.js */674),t.getFileSystemManager?t.getFileSystemManager():null),a=n(/*! ./libs/MpHtmlParser.js */676);function c(t){for(var e=t.length,n=5381;e--;)n+=(n<<5)+t.charCodeAt(e);return n}var h=n(/*! ./libs/config.js */675),l={name:"parser",data:function(){return{scaleAnimation:"",showAnimation:"",nodes:[],imgs:[]}},components:{trees:s},props:{html:null,autopause:{type:Boolean,default:!0},autosetTitle:{type:Boolean,default:!0},domain:String,gestureZoom:Boolean,lazyLoad:Boolean,selectable:Boolean,tagStyle:Object,showWithAnimation:Boolean,useAnchor:Boolean,useCache:Boolean},watch:{html:function(t){this.setContent(t,!0)}},mounted:function(){this.imgList=[],this.imgList.each=function(t){for(var e=0;e<this.length;e++){var n=t(this[e],e,this);n&&this.setItem(e,n)}},this.imgList.setItem=function(t,e){var n=this;if(e){if(e.includes("http")&&this.includes(e)){for(var i,s="",r=0;i=e[r];r++)if(s+=Math.random()>.5?i.toUpperCase():i,"/"==i&&"/"!=e[r-1]&&"/"!=e[r+1])break;return s+=e.substring(r+1),this[t]=s}if(this[t]=e,e.includes("data:image")){var a=e.match(/data:image\/(\S+?);(\S+?),(.+)/);if(!a)return;var c="".concat(wx.env.USER_DATA_PATH,"/").concat(Date.now(),".").concat(a[1]);o&&o.writeFile({filePath:c,data:a[3],encoding:a[2],success:function(e){return n[t]=c}})}}},this.nodes.length||this.setContent(this.html,!0)},beforeDestroy:function(){this.imgList.each((function(e){e&&e.includes(t.env.USER_DATA_PATH)&&o&&o.unlink({filePath:e})})),clearInterval(this.interval)},methods:{setContent:function(e,n){var s,o=this;if(!e)return this.nodes=[];if("string"==typeof e){var l=new a(e,this);if(this.useCache){var u=c(e);r[u]?this.nodes=r[u]:(this.nodes=l.parse(),r[u]=this.nodes)}else this.nodes=l.parse();this.$emit("parse",this.nodes)}else if("[object Array]"==Object.prototype.toString.call(e)){if(e.length&&"Parser"!=e[0].PoweredBy){l=new a(e,this);(function t(e){for(var n,i=0;n=e[i];i++)if("text"!=n.type){for(var s in n.attrs=n.attrs||{},n.attrs)h.trustAttrs[s]?"string"!=typeof n.attrs[s]&&(n.attrs[s]=n.attrs[s].toString()):n.attrs[s]=void 0;h.LabelHandler(n,l),h.ignoreTags[n.name]?e.splice(i--,1):n.children&&n.children.length?(l._STACK.push(n),t(n.children),l.popNode(l._STACK.pop())):n.children=void 0}})(e)}this.nodes=e}else{if("object"!=typeof e||!e.nodes)return console.warn("错误的 html 类型："+typeof e);this.nodes=e.nodes,console.warn("错误的 html 类型：object 类型已废弃")}i&&(this.document=new i(this.nodes,"nodes",this)),this.$nextTick((function(){o.imgList.length=0,o.videoContexts=[];var e=function e(n){for(var i=function(){var i=n[s];if("trees"==i.$options.name)for(r=!1,a=i.nodes.length;c=i.nodes[--a];)c.c||("img"==c.name?(c.attrs.i&&o.imgList.setItem(c.attrs.i,c.attrs.src),r||"0"==c.attrs.i||(r=!0,o.lazyLoad&&t.createIntersectionObserver?(i._observer&&i._observer.disconnect(),i._observer=t.createIntersectionObserver(i),i._observer.relativeToViewport({top:900,bottom:900}).observe("._img",(function(t){i.imgLoad=!0,i._observer&&(i._observer.disconnect(),i._observer=null)}))):i.imgLoad=!0)):"video"==c.name?(h=t.createVideoContext(c.attrs.id,i),h.id=c.attrs.id,o.videoContexts.unshift(h)):"audio"==c.name&&c.attrs.autoplay?wx.createAudioContext(c.attrs.id,i).play():"title"==c.name&&o.autosetTitle&&"text"==c.children[0].type&&t.setNavigationBarTitle({title:c.children[0].text}));i.$children.length&&e(i.$children)},s=n.length;s--;){var r,a,c,h;i()}};e(o.$children)})),this.interval=setInterval((function(){o.createSelectorQuery().select("._top").boundingClientRect().exec((function(t){o.width=t[0].width,t[0].height==s&&(o.$emit("ready",t[0]),clearInterval(o.interval)),s=t[0].height}))}),350),this.showWithAnimation&&(this.showAnimation="animation:show .5s")},getText:function(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.html||this.nodes,n="",i=0;t=e[i++];)if("text"==t.type)n+=t.text.replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");else if("br"==t.type)n+="\n";else{var s="p"==t.name||"div"==t.name||"tr"==t.name||"li"==t.name||"h"==t.name[0]&&t.name[1]>"0"&&t.name[1]<"7";s&&n&&"\n"!=n[n.length-1]&&(n+="\n"),t.children&&(n+=this.getText(t.children)),s&&"\n"!=n[n.length-1]?n+="\n":"td"!=t.name&&"th"!=t.name||(n+="\t")}return n},navigateTo:function(e){var n=this;if(!this.useAnchor)return e.fail&&e.fail({errMsg:"Anchor is disabled"});var i=function(i,s){t.createSelectorQuery().in(s||n).select(i).boundingClientRect().selectViewport().scrollOffset().exec((function(n){if(!n||!n[0])return e.fail&&e.fail({errMsg:"Label not found"});e.scrollTop=n[1].scrollTop+n[0].top,t.pageScrollTo(e)}))};e.id?i("._top >>> #"+e.id+", ._top >>> ."+e.id):i("._top")},getVideoContext:function(t){if(!t)return this.videoContexts;for(var e=this.videoContexts.length;e--;)if(this.videoContexts[e].id==t)return this.videoContexts[e];return null},preLoad:function(t,e){if("string"==typeof t){var n=c(t);t=new a(t,this).parse(),r[n]=t}var i=[];(function t(e){for(var n,s=0;n=e[s++];)"img"==n.name&&n.attrs.src&&!i.includes(n.attrs.src)&&i.push(n.attrs.src),t(n.children||[])})(t),e&&(i=i.slice(0,e)),this.wait=(this.wait||[]).concat(i),this.imgs?this.imgs.length<15&&(this.imgs=this.imgs.concat(this.wait.splice(0,15-this.imgs.length))):this.imgs=this.wait.splice(0,15)},_load:function(t){this.wait.length&&this.$set(this.imgs,t.target.id,this.wait.shift())},_tap:function(e){if(this.gestureZoom&&e.timeStamp-this.lastTime<300){if(this.zoomIn)this.animation.translateX(0).scale(1).step(),t.pageScrollTo({scrollTop:(e.touches[0].pageY-e.currentTarget.offsetTop+this.initY)/2-e.touches[0].clientY,duration:400});else{var n=e.touches[0].pageX-e.currentTarget.offsetLeft;this.initY=e.touches[0].pageY-e.currentTarget.offsetTop,this.animation=t.createAnimation({transformOrigin:"".concat(n,"px ").concat(this.initY,"px 0"),timingFunction:"ease-in-out"}),this.animation.scale(2).step(),this.tMax=n/2,this.tMin=(n-this.width)/2,this.tX=0}this.zoomIn=!this.zoomIn,this.scaleAnimation=this.animation.export()}this.lastTime=e.timeStamp},_touchstart:function(t){1==t.touches.length&&(this.initX=this.lastX=t.touches[0].pageX)},_touchmove:function(t){var e=t.touches[0].pageX-this.lastX;if(this.zoomIn&&1==t.touches.length&&Math.abs(e)>20){if(this.lastX=t.touches[0].pageX,this.tX<=this.tMin&&e<0||this.tX>=this.tMax&&e>0)return;this.tX+=e*Math.abs(this.lastX-this.initX)*.05,this.tX<this.tMin&&(this.tX=this.tMin),this.tX>this.tMax&&(this.tX=this.tMax),this.animation.translateX(this.tX).step(),this.scaleAnimation=this.animation.export()}}}};e.default=l}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},677:
/*!********************************************************************************************!*\
  !*** D:/code/2.0app/components/jyf-parser/jyf-parser.vue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var i=n(/*! -!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jyf-parser.vue?vue&type=style&index=0&lang=css& */678),s=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=s.a},678:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/code/2.0app/components/jyf-parser/jyf-parser.vue?vue&type=style&index=0&lang=css& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){}}]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/components/jyf-parser/jyf-parser.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/jyf-parser/jyf-parser-create-component',
    {
        'components/jyf-parser/jyf-parser-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(669))
        })
    },
    [['components/jyf-parser/jyf-parser-create-component']]
]);

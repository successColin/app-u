{"version":3,"sources":["uni-app:///main.js","webpack:///D:/code/2.0app/pages/templates/formTemplate.vue?46fd","webpack:///D:/code/2.0app/pages/templates/formTemplate.vue?8fe4","webpack:///D:/code/2.0app/pages/templates/formTemplate.vue?327c","webpack:///D:/code/2.0app/pages/templates/formTemplate.vue?6d3c","uni-app:///pages/templates/formTemplate.vue"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","m0","_self","_c","$i18nMsg","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,qD,mDACAA,EAAWC,a;;;;2DCHX,4NACIC,EADJ,mKAQIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,mCACZ,aAAAF,E;;;;2GCtBf,qmC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,SAAS,gCACtBP,EAAIQ,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLR,GAAIA,MAKRS,GAAmB,EACnBC,EAAkB,GACtBf,EAAOgB,eAAgB,G;;;;2DCjBvB,uuBAAgrB,eAAG,G;;;;0IC2BnrB,sCACA,sCACA,kBAOA,2C,u3EACA,gB,EAGA,CACA,qEACA,KAFA,WAGA,OAEA,SACA,YACA,mBACA,oBACA,qBACA,eACA,UACA,YACA,eAEA,WACA,cACA,eACA,iBAEA,cAGA,eACA,kDADA,IAEA,uDAFA,IAGA,6FAEA,cACA,+DADA,IAEA,iEAFA,IAGA,4BACA,mBACA,yBACA,mBACA,0BACA,qBACA,oBATA,IAWA,0EAXA,CAYA,YAZA,SAYA,GAEA,6DACA,mCAEA,cAjBA,WAkBA,WACA,8CAEA,WArBA,WAqBA,wCACA,YAtBA,SAsBA,qEAIA,+CAGA,6BACA,kCACA,6DAEA,KACA,eACA,QACA,qCACA,uBACA,mCAEA,oBACA,yBACA,2BACA,wBACA,iCACA,cACA,kBACA,oBACA,sBACA,mBACA,eAEA,kBAEA,2BACA,oBACA,2BAGA,gBAEA,QA7DA,WA6DA,WACA,gFAGA,sEACA,4BAJA,uBAOA,eArEA,WAqEA,uEACA,6BACA,OACA,GACA,YACA,iCACA,6CACA,qCACA,WACA,cACA,8BACA,0BACA,oBACA,qBACA,SACA,wCAEA,uBACA,+BACA,yBAEA,gFACA,0DACA,mDACA,0IAEA,sBAEA,oBACA,4BACA,6BAEA,2BACA,4BACA,iHAEA,sBACA,4BACA,sBAEA,iBACA,4BACA,gBAIA,YAEA,eACA,4BACA,+BACA,mCACA,+BAEA,uBACA,iBACA,gBACA,UAKA,OA/JA,SA+JA,GACA,oBAEA,MACA,iCACA,OAEA,mCACA,mBACA,WAEA,iCAEA,GACA,eACA,oBACA,wBACA,sBACA,sCACA,aACA,yBACA,sBACA,UACA,kCACA,2BACA,oCACA,kCACA,uCACA,uBACA,iBAGA,uCACA,6CACA,oBACA,8BAGA,gDACA,eACA,oCACA,oCACA,oBAEA,4BACA,iCACA,8BACA,SAEA,IADA,oCAKA,mBAIA,6BACA,YACA,yCAGA,QA7NA,WA8NA,uG","file":"pages/templates/formTemplate.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/templates/formTemplate.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./formTemplate.vue?vue&type=template&id=7ff13ba6&\"\nvar renderjs\nimport script from \"./formTemplate.vue?vue&type=script&lang=js&\"\nexport * from \"./formTemplate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/templates/formTemplate.vue\"\nexport default component.exports","export * from \"-!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./formTemplate.vue?vue&type=template&id=7ff13ba6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.$i18nMsg(\"lang-advancedFilter-loading\")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./formTemplate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./formTemplate.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- 表单展示类型 -->\r\n\t<view class=\"formTemplate\">\r\n\t\t<m-back-bar>\r\n\t\t\t<block slot=\"barTitle\">{{barTitle}}</block>\r\n\t\t\t<block slot=\"barRight\">\r\n\t\t\t\t<top-btns-coms :tabInfo=\"tabInfo\" v-if=\"topbtnsShow\"\r\n\t\t\t\t\t@showComBox=\"showComBox\"> \r\n\t\t\t\t</top-btns-coms> \r\n\t\t\t</block>\r\n\t\t</m-back-bar>\r\n\t\t<dropdown-menu v-if=\"comBoxVisible\" :tabInfo=\"tabInfo\" @showComBox=\"showComBox\"></dropdown-menu>\r\n\t\t<FormCom v-if=\"isShow\" ref=\"mForm\" :formConfig=\"formConfig\" :tabInfo=\"tabInfo\" :oldFormData=\"formData\"></FormCom>\r\n\t\t\r\n\t\t<view v-else class=\"formloading animated fadeInDown\">\r\n\t\t\t<image src=\"../../static/images/svg/tail-spin.svg\" style=\"width: 25px; height: 25px;\" mode=\"aspectFill\" ></image>\r\n\t\t\t{{$i18nMsg('lang-advancedFilter-loading')}}<!--中文：加载中-->\r\n\t\t</view>\r\n\t\t<view class=\"formTemplate-btns foot\" v-show=\"isOriginHei\" v-if=\"footShow\">\r\n\t\t\t<bottom-btns-coms :tabInfo=\"tabInfo\"\r\n\t\t\t @checkedForm = \"checkedForm\">\r\n\t\t\t</bottom-btns-coms> \r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport bus from '@/static/js/bus'\r\n\timport {formApi} from '@/common/request/api.js'\r\n\timport {mapState,mapMutations} from 'vuex'\r\n\r\n\timport FormCom from '@/components/makeup/form/FormCom.vue'\r\n\timport dropdownMenu from \"@/pageComs/dropdownMenu.vue\"\r\n\timport topBtnsComs from '@/pageComs/topBtnsComs.vue'\r\n\timport bottomBtnsComs from '@/pageComs/bottomBtnsComs.vue'\r\n\t\r\n\timport ClassForm from '@/static/js/ClassForm.js'\r\n\tconst Form = new ClassForm()\r\n\t\r\n\tlet mobileTabs = \"\",static_btnList = {}\r\n\texport default {\r\n\t\tcomponents: {FormCom,topBtnsComs,bottomBtnsComs,dropdownMenu},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t//界面信息\r\n\t\t\t\tonkey: \"\",\r\n\t\t\t\tbarTitle: '',\r\n\t\t\t\tformType: \"editBtn\", //表单来源：addBtn-新增；editBtn-编辑\r\n\t\t\t\ttemplateType: \"form\", //模板类型form，list\r\n\t\t\t\tisDoRefreshParent: false, //是否需要刷新父页面刷新\r\n\t\t\t\toriginHeight: 0,\r\n\t\t\t\tisShow:false,\r\n\t\t\t\tfootShow:false,\r\n\t\t\t\ttopbtnsShow:false,\r\n\t\t\t\t//面板信息\r\n\t\t\t\ttabInfo: {}, \r\n\t\t\t\tformConfig:{},\r\n\t\t\t\tselectsInfo: {}, //级联下拉框\r\n\t\t\t\tcomBoxVisible: false, //下拉菜单是否显示\r\n\t\t\t\t//数据信息\r\n\t\t\t\tformData: {},\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(\"framsStore\",[\"jumpInBundleParam\"]),\r\n\t\t\t...mapState([\"bundleName\", \"bundleId\", \"isOriginHei\"]),\r\n\t\t\t...mapState(\"common\", [\"templateParams\",\"doRefreshParent\",\"tabsElements\",\"tabsFormDatas\"]), //面板参数\r\n\t\t},\r\n\t\tmethods: { \r\n\t\t\t...mapMutations([\"SET_ORIGIN\", \"SET_bundle\",\"SET_GlobalIds\"]),\r\n\t\t\t...mapMutations(\"form\", [\"SET_FILTER_SQLPARAMS\",\"SET_ALLBTNS\"]),\r\n\t\t\t...mapMutations(\"common\", [\r\n\t\t\t\t\"SET_DROPDOWNDATA\", //设置下拉框数据\r\n\t\t\t\t\"SET_FORMREFRESH_PARENT\",\r\n\t\t\t\t\"SET_TABS_ELEMENT\",\r\n\t\t\t\t\"SET_COMMON_TABSELEMENTS\",\r\n\t\t\t\t\"SET_TABS_FORMDATAS\",\r\n\t\t\t\t\"CLEAR_FORMDATAS\",\r\n\t\t\t]),\r\n\t\t\t...mapMutations(\"verificationRule\",[\"CLEAR_RULESTATE\",\"SET_VER_RULES\"]),\r\n\t\t\tcheckedForm(params){\r\n\t\t\t\tlet form = {}\r\n\t\t\t\tif(params.static_checkedForm === 1) form = this.$refs.mForm.verificationRule() //需要校验\r\n\t\t\t\telse form = this.$refs.mForm.submitFormData()\r\n\t\t\t},\r\n\t\t\tfinishLoading() { //完成加载\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tsetTimeout(() => { _this.isLoading = false }, 100)\r\n\t\t\t},\r\n\t\t\tshowComBox() { this.comBoxVisible = !this.comBoxVisible },//显示或者隐藏下拉菜单\r\n\t\t\tsetPageInfo(mobileTabsBYRelation, relationTab, formId=\"\") { //根据relationTab取具体面板信息\r\n\t\t\t\tconst _this = this\r\n\t\t\t\t\r\n\t\t\t\t//设置返回栏标题\r\n\t\t\t\tthis.barTitle = mobileTabsBYRelation.mobileTabName || this.bundleName\r\n\t\t\t\t\r\n\t\t\t\t//设置表单参数\r\n\t\t\t\tconst queryParams = Form.advancedParams(this,{ \r\n\t\t\t\t\tadvancedQuery:mobileTabsBYRelation.advancedQuery || {},//过滤条件中需要转化的变量\r\n\t\t\t\t\tsystemParam:{relationMainTab:this.tabInfo.relationMainTab}\r\n\t\t\t\t})//获取过滤条件中的变量\r\n\t\t\t\tconst formConfig = {}\r\n\t\t\t\tformConfig.otherParams = {//列表额外参数，过滤条件中设置的参数\r\n\t\t\t\t\tid:queryParams || formId,\r\n\t\t\t\t\tmobileTabId:this.tabInfo.mobileTabId,\r\n\t\t\t\t\telementList:mobileTabsBYRelation.elements,\r\n\t\t\t\t\tmobileTabSource:mobileTabsBYRelation.mobileTabSource,\r\n\t\t\t\t}\r\n\t\t\t\tconst elements = [...mobileTabsBYRelation.elements],\r\n\t\t\t\t\t  bottomBtn = [...mobileTabsBYRelation.btnList.bottomBtn],\r\n\t\t\t\t\t  topRightBtn = [...mobileTabsBYRelation.btnList.topRightBtn],\r\n\t\t\t\t\t  comboBox = [...mobileTabsBYRelation.btnList.comboBox],\r\n\t\t\t\t\t  tabElements = [...elements,...bottomBtn,...topRightBtn,...comboBox]\r\n\t\t\t\tformConfig.baseParams = {//列表基本参数\r\n\t\t\t\t\tcurrentElements:elements,\r\n\t\t\t\t\tcurrentBottomBtns:bottomBtn,\r\n\t\t\t\t\tcurrentTopRightBtns:topRightBtn,\r\n\t\t\t\t\tcurrentComboBoxs:comboBox,\r\n\t\t\t\t\ttabElements:tabElements,\r\n\t\t\t\t}\r\n\t\t\t\tthis.formConfig = formConfig\r\n\t\t\t\t\r\n\t\t\t\tthis.SET_FILTER_SQLPARAMS({\r\n\t\t\t\t\ttabId:mobileTabsBYRelation.mobileTabId,\r\n\t\t\t\t\tparams:mobileTabsBYRelation.filterSQLParams\r\n\t\t\t\t})\r\n\t\t\t\t//请求表单数据\r\n\t\t\t\tthis.getDate()\r\n\t\t\t},\r\n\t\t\tgetDate(){//获取表单\r\n\t\t\t\tif(!this.formConfig.otherParams.id || !this.formConfig.otherParams.mobileTabSource){this.formDataFormat();return} \r\n\t\t\t\tconst _this = this\r\n\t\t\t\t//如果是编辑需要获取\r\n\t\t\t\tformApi.getDate(this, this.formConfig.otherParams).then(value => {\r\n\t\t\t\t\tthis.formDataFormat(value)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tformDataFormat(formData = {}){//表单数据转化\r\n\t\t\t\tconst baseParams = this.formConfig.baseParams,\r\n\t\t\t\t\t  _this = this\r\n\t\t\t\tconst dataBasic = {\r\n\t\t\t\t\teventType:4,\r\n\t\t\t\t\ttriggerList:this.tabInfo.trigger,\r\n\t\t\t\t\trelationMainTab:this.tabInfo.relationMainTab,\r\n\t\t\t\t\tmobileTabId:this.tabInfo.mobileTabId,\r\n\t\t\t\t\tformData:formData,\r\n\t\t\t\t\toldFormData:formData,\r\n\t\t\t\t\ttriggerElements:baseParams.tabElements,\r\n\t\t\t\t\toldElements:baseParams.tabElements,\r\n\t\t\t\t\tsearchSelectInfo:{},\r\n\t\t\t\t\tloadsearchSelects:[],\r\n\t\t\t\t\trules:[],\r\n\t\t\t\t\tbundleParams:this.tabInfo.bundleParams\r\n\t\t\t\t}\r\n\t\t\t\tthis.SET_TABS_ELEMENT({//设置面板控件\r\n\t\t\t\t\ttabId:this.tabInfo.mobileTabId,\r\n\t\t\t\t\telements:baseParams.tabElements\r\n\t\t\t\t})  \r\n\t\t\t\tthis.Static_GlobalFucs.formElementsTrigger({...baseParams,...dataBasic},this).then(tabParams => {\r\n\t\t\t\t\tthis.formConfig.baseParams.currentElements = tabParams.currentElements\r\n\t\t\t\t\tthis.formConfig.loadsearchSelects = tabParams.loadsearchSelects\r\n\t\t\t\t\tthis.formConfig.baseParams.tabElements = [...tabParams.currentBottomBtns,...tabParams.currentTopRightBtns,...tabParams.currentComboBoxs,...tabParams.currentElements]\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.formData = tabParams.formData\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.SET_TABS_ELEMENT({//设置面板控件\r\n\t\t\t\t\t\ttabId:this.tabInfo.mobileTabId,\r\n\t\t\t\t\t\telements:tabParams.currentElements\r\n\t\t\t\t\t})  \r\n\t\t\t\t\tthis.SET_COMMON_TABSELEMENTS({//设置面板控件\r\n\t\t\t\t\t\ttabId:this.tabInfo.mobileTabId,\r\n\t\t\t\t\t\telements:[...tabParams.currentElements,...tabParams.currentBottomBtns,...tabParams.currentTopRightBtns,...tabParams.currentComboBoxs]\r\n\t\t\t\t\t}) \r\n\t\t\t\t\tthis.SET_TABS_FORMDATAS({//设置面板数据\r\n\t\t\t\t\t\ttabId:this.tabInfo.mobileTabId,\r\n\t\t\t\t\t\tformData:tabParams.formData\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.SET_VER_RULES({//设置校验规则\r\n\t\t\t\t\t\ttabId:this.tabInfo.mobileTabId,\r\n\t\t\t\t\t\trules:tabParams.rules\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\t//延迟显示表单\r\n\t\t\t\t\t_this.isShow = true\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.SET_ALLBTNS({//设置按钮、下拉菜单原生数据\r\n\t\t\t\t\t\ttabId:this.tabInfo.mobileTabId,\r\n\t\t\t\t\t\tbottomBtns:tabParams.currentBottomBtns,\r\n\t\t\t\t\t\ttopRightBtns:tabParams.currentTopRightBtns,\r\n\t\t\t\t\t\tcomboBoxs:tabParams.currentComboBoxs\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t_this.topbtnsShow = true\r\n\t\t\t\t\t\t_this.footShow = true\r\n\t\t\t\t\t}, 50)\r\n\t\t\t\t})\r\n\t\t\t\t// const tabParams = this.Static_GlobalFucs.formElementsTrigger({...baseParams,...dataBasic},this)\r\n\t\t\t},\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tconst currentTabId = options.relationTab //当前面板的id\r\n\t\t\t//当前面板id不存在，不进行面板布局 todo 进入报错界面\r\n\t\t\tif (!currentTabId) return\r\n\t\t\tconst currentTemParams = this.templateParams[currentTabId] || {}, //获取当前面板参数\r\n\t\t\t\t  _this = this\r\n\t\t\t//判断是否有mobileTabs\r\n\t\t\tconst bundleInfo = uni.getStorageSync(currentTemParams.bundleId) || {}\r\n\t\t\tconst mobileTabs = bundleInfo.mobileTabs || {},\r\n\t\t\t\t  mobileTabsBYRelation = mobileTabs[currentTabId] || {}\r\n\t\t\t\r\n\t\t\tlet onKey = `formReload${this._uid}`\r\n\t\t\t//定义面板信息\r\n\t\t\tlet tabInfo = {\r\n\t\t\t\t_uid:this._uid,\r\n\t\t\t\tbundleId:currentTemParams.bundleId,\r\n\t\t\t\tbundleName:currentTemParams.bundleName,\r\n\t\t\t\tmobileTabId:Number(currentTabId),\r\n\t\t\t\trelationMainTab:currentTemParams.relationMainTab || '',\r\n\t\t\t\tmobileTabs:mobileTabs,\r\n\t\t\t\ttrigger:bundleInfo.triggerMap || {},\r\n\t\t\t\tparentKey:currentTemParams.onkey || \"\",\r\n\t\t\t\tselfKey:onKey,\r\n\t\t\t\trefreshParams:currentTemParams.refreshParams || {},\r\n\t\t\t\tformType: currentTemParams.type || 'editBtn', //设置表单来源：addBtn-新增；editBtn-编辑；multiple-多条处理\r\n\t\t\t\tcascadeSelects: mobileTabsBYRelation.cascadeSelects || [],\r\n\t\t\t\tcommonSelects: mobileTabsBYRelation.commonSelects || [],\r\n\t\t\t\tselectsFilterParams: mobileTabsBYRelation.filterParams || {},\r\n\t\t\t\tmobileTabsBYRelation:mobileTabsBYRelation,\r\n\t\t\t\tmainDataId:currentTemParams.id\r\n\t\t\t}\r\n\t\t\t//判断是否从其他菜单中跳转过来的\r\n\t\t\tif(this.jumpInBundleParam[tabInfo.bundleId]){\r\n\t\t\t\tconst jumpInBundleParam = this.jumpInBundleParam[tabInfo.bundleId] || {}\r\n\t\t\t\ttabInfo.jumpTag = jumpInBundleParam.jumpTag\r\n\t\t\t\ttabInfo.bundleParams = jumpInBundleParam.bundleParams  //菜单参数\r\n\t\t\t} \r\n\t\t\t//如果type不是“GlobalIds”清除GlobalIds，为了兼容批量处理和单条新增的情况\r\n\t\t\tif(tabInfo.formType !== 'multiple') this.SET_GlobalIds([])\r\n\t\t\tthis.tabInfo = tabInfo\r\n\t\t\tthis.CLEAR_FORMDATAS(tabInfo.mobileTabId)//请求对应面板的需要提交的表单值\r\n\t\t\tthis.CLEAR_RULESTATE(tabInfo.mobileTabId)//清空对应面板的校验规则\r\n\t\t\tthis.SET_ORIGIN(true)//设置按钮栏显示\r\n\t\t\t//解决底部按钮在软键盘打开时被顶起问题\r\n\t\t\tconst res = uni.getSystemInfoSync()\r\n\t\t\tthis.originHeight = res.windowHeight\r\n\t\t\tuni.onWindowResize((res) => {\r\n\t\t\t\tlet isOriginHei = true\r\n\t\t\t\tif (res.size.windowHeight < _this.originHeight) {\r\n\t\t\t\t\tisOriginHei = false\r\n\t\t\t\t} else {\r\n\t\t\t\t\tisOriginHei = true\r\n\t\t\t\t}\r\n\t\t\t\t_this.SET_ORIGIN(isOriginHei)\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t//设置监听\r\n\t\t\tbus.$on(onKey, (params) => { //reload\r\n\t\t\t\t_this.isShow = false\r\n\t\t\t\t_this.setPageInfo(mobileTabsBYRelation,tabInfo.mobileTabId, currentTemParams.id)\r\n\t\t\t})\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tthis.setPageInfo(this.tabInfo.mobileTabsBYRelation,this.tabInfo.mobileTabId, this.tabInfo.mainDataId)\r\n\t\t}\r\n\t}\r\n</script>\r\n"],"sourceRoot":""}
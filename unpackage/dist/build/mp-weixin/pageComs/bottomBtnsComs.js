(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pageComs/bottomBtnsComs"],{a85e:function(t,e,a){"use strict";a.r(e);var n=a("c434"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},c434:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(a("a6f1")),i=a("2f62"),r=a("83b2"),o=a("9190"),s=a("8ff9"),l=u(a("72d2"));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return d(t)||f(t)||m(t)||b()}function b(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(t,e){if(t){if("string"===typeof t)return h(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?h(t,e):void 0}}function f(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function d(t){if(Array.isArray(t))return h(t)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function v(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){I(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function I(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var y=new l.default,T={props:{tabInfo:{type:Object,default:function(){return{}}},btnBasicInfo:{type:Object,default:function(){return{normalEvent:["normalBtn","jumpMenuBtn","jumpTabBtn"],delEvent:["delBtn"],saveEvent:["saveBtn","archiveBtn","normalArchiveBtn"]}}}},data:function(){return{comBoxVisible:!1,btnDisable:!1,bundlesList:[]}},computed:v({},(0,i.mapState)(["GlobalIds","isOriginHei"]),{},(0,i.mapState)("common",{tabsElements:"tabsElements",tabsFormDatas:"tabsFormDatas",submitTabsDatas:"submitTabsDatas",frameUId:"frameUId"}),{},(0,i.mapState)("form",["currentBottomBtns"]),{},(0,i.mapState)("verificationRule",{rules:"rules",checkedFlag:"checkedFlag"}),{},(0,i.mapState)("home",["bottomList","workSpaceList","topCoreList"]),{btnInfo:function(){return function(t){var e=[4,5,6,24,43,44],a=t.baseType,n=t.checkedForm,i=void 0===n?1:n,r=t.elementFormat,o=t.type,s=t.relationTabId,l=t.relationTableName,u=t.elementId,c=t.jumpMenuList,b=t.jumpTabList,m=-1!==e.indexOf(a)?0:i,f=r;if(!f){var d=[24,43,44];f=-1!==d.indexOf(a)?0:"list"===this.tabInfo.templateType&&6===a?0:2}return{type:o,relationTabId:s,relationTableName:l,elementId:u,elementFormat:f,static_checkedForm:m,jumpMenuList:c,jumpTabList:b}}},buttons:function(){var t=this.tabInfo.mobileTabId;return this.currentBottomBtns[t]}}),methods:v({},(0,i.mapMutations)(["SET_FRAMETYPE"]),{},(0,i.mapMutations)("framsStore",["SET_FRAMS_JUMParams","SET_FRAMS_JUMINParams"]),{},(0,i.mapMutations)("common",["SET_TEMPLATE_PARAMS","SET_FORMREFRESH_PARENT"]),{showByPermissiones:function(t,e,a){if(!e)return!1;var n=this.btnBasicInfo.saveEvent||[],i=this.btnBasicInfo.normalEvent||[],r=this.btnBasicInfo.delEvent||[];if(-1===n.indexOf(a)&&-1===r.indexOf(a)&&-1===i.indexOf(a))return!1;var o=this.tabInfo.bundleId;return this.Static_GlobalFucs.Permissiones(o,t,this.tabInfo.formType)},getJumpBundleParam:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t){var e={passParam:t,mobileTabId:this.tabInfo.mobileTabId,tabsElements:this.tabsElements,tabsFormDatas:this.tabsFormDatas},a=y.getJumpBundleParam(e,this);return a&&this.SET_FRAMS_JUMParams({source:this.tabInfo.bundleId,value:a}),a||{}}},handleBtnClick:function(t){this.$emit("checkedForm",{static_checkedForm:t.static_checkedForm});var e=this.tabInfo.mobileTabId,a=this.checkedFlag[e];if(1!==t.static_checkedForm||a)if(t=v({},this.tabInfo,{},this.btnBasicInfo,{},t),t.submitFormData=this.submitTabsDatas[e]||{},"list"===this.tabInfo.templateType&&(t.submitFormData.ids=this.GlobalIds.join(",")),"list"!==this.tabInfo.templateType||"delBtn"!==t.type||t.submitFormData.ids){"saveBtn"===t.type&&"multiple"===this.tabInfo.formType&&this.GlobalIds.length>0&&(t.submitFormData.static_ids=this.GlobalIds.join(","),"id"in t.submitFormData&&delete t.submitFormData.id,t.type="batchSaveBtn");var n="tab";if(t.jumpMenuList&&t.jumpMenuList.length&&(n="menu"),console.log("tab============================="),"menu"===n){var i=this.getAccordBundle(t.jumpMenuList);if(i){var r=i.jumpBundleId,o=i.passParam;t.jumpBundleId=r,t.jumpBundleParam=this.getJumpBundleParam(o)||{},t.bundlesList=this.bundlesList}}else{console.log("tab=============================");var s=this.getAccordBundle(t.jumpTabList);if(s){var l=s.jumpTabId,u=s.relationTabId;t.relationTabId=l||u}}y.click(t,this)}else this.Static_GlobalFucs.showToast({title:this.$i18nMsg("lang-BRAT-delTip")})},isEligible:function(t){var e=this;if(t){var a={otherTabId:this.tabInfo.relationMainTab,mobileTabId:this.tabInfo.mobileTabId,bundleParams:this.tabInfo.bundleParams,tabsElements:this.tabsElements,tabsFormDatas:this.tabsFormDatas},n=[];try{n=JSON.parse(t)}catch(b){n=[]}for(var i=!0,r=function(t,r){var l=n[t],u=l.key,c=l.cond,b=l.value,m=e.Static_GlobalFucs.Global_ParamFormat(v({},{key:u},{},a),e),f=e.Static_GlobalFucs.Global_ParamFormat(v({},{key:b},{},a),e);m="".concat(m.id),f="".concat(f.id);var d=o.TRIGGER_Conditions.find((function(t){return t.name===c}));if(!(0,s.TRIGGRT_ConditionFnc)(d,f,m))return i=!1,"break"},l=0,u=n.length;l<u;l++){var c=r(l,u);if("break"===c)break}return i}return!0},getAccordBundle:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e="",a=0,n=t.length;a<n;a++){var i=t[a]||{};if(this.isEligible(i.preconditions)){e=v({},i);break}}return e},loading:function(t){this.btnDisable=t||!1},btnBack:function(e){if(this.btnDisable=!1,2===e)n.default.$emit(this.tabInfo.parentKey,this.tabInfo.refreshParams),t.navigateBack();else if(1===e)n.default.$emit(this.tabInfo.selfKey,this.tabInfo.refreshParams);else if(3===e){var a=(0,r.ELEMENT_BACKFRAME)({frameUId:this.frameUId}),i=a.pageNum-(a.pageIndex+1),o="";o="form"===a.templateType?"formReload".concat(this.frameUId):"listReload".concat(this.frameUId),n.default.$emit(o,this.tabInfo.refreshParams),t.navigateBack({delta:i,animationType:"slide-out-right"})}},btnEvent:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;a.tip?this.Static_GlobalFucs.showToast({title:a.tipContent,mask:!0,complete:function(){setTimeout((function(){t.hideToast(),n.btnBack(e)}),600)}}):this.btnBack(e)}}),created:function(){var t=[];for(var e in this.workSpaceList){var a=this.workSpaceList[e];t=[].concat(c(t),c(a.list))}console.log(this.buttons),this.bundlesList=[].concat(c(this.bottomList),c(t))}};e.default=T}).call(this,a("543d")["default"])},c593:function(t,e,a){"use strict";var n,i=function(){var t=this,e=t.$createElement,a=(t._self._c,t.__map(t.buttons,(function(e,a){var n=t.showByPermissiones(e.baseType,e.visiabled,e.type),i=t.btnInfo(e);return{$orig:t.__get_orig(e),m0:n,m1:i}})));t.$mp.data=Object.assign({},{$root:{l0:a}})},r=[];a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}))},dd31:function(t,e,a){"use strict";a.r(e);var n=a("c593"),i=a("a85e");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);var o,s=a("f0c5"),l=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);e["default"]=l.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pageComs/bottomBtnsComs-create-component',
    {
        'pageComs/bottomBtnsComs-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("dd31"))
        })
    },
    [['pageComs/bottomBtnsComs-create-component']]
]);

(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"008e":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("2f62"),a=t("f4db"),o=i(t("8a14"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var u=function(){Promise.all([t.e("common/vendor"),t.e("components/element/m-inputLable1")]).then(function(){return resolve(t("39c2"))}.bind(null,t)).catch(t.oe)},f=e.getStorageSync("loginMsg")||{},d={name:"Login",components:{mInputLable:u},data:function(){return{userElemnt:{visiabled:1,labletPositon:"top",label:this.$i18nMsg("lang-username"),name:"username"},passworderElemnt:{visiabled:1,labletPositon:"top",label:this.$i18nMsg("lang-password"),name:"password",inputType:"password"},remeber:!0,formData:f,PasswrodEncrypted:"0",disabled:!0,isLoading:!0,passwordIcon:"iconmimayincang",isShowPassword:!0}},methods:c({},(0,r.mapMutations)(["SET_LOGIN_STATE","SET_SYSPARAMER","SET_WATERMARK"]),{showPassword:function(){this.isShowPassword?(this.passwordIcon="iconmimaxianshi",this.isShowPassword=!1):(this.passwordIcon="iconmimayincang",this.isShowPassword=!0)},changeValue:function(e){this.formData[e.element.name]=e.value},forgetPassword:function(){var n="en_US"===this._i18n.locale?"zh_CN":"en_US";e.setStorageSync("locale",n),plus.runtime.restart()},rememberPassword:function(){this.remeber=!this.remeber},selectServer:function(){e.navigateTo({url:"selectServer"})},doLogin:function(){var n=this;n.isLoading=!0,n.disabled=!0,setTimeout((function(){var t=n.Static_GlobalFucs.checkForm({rule:[{name:"username",checkType:"notnull",checkRule:"",errorMsg:n.$i18nMsg("lang-username")+n.$i18nMsg("lang-notNull")},{name:"password",checkType:"notnull",checkRule:"",errorMsg:n.$i18nMsg("lang-password")+n.$i18nMsg("lang-notNull")}],data:n.formData});if(!t.isCheck)return n.Static_GlobalFucs.showToast({title:t.errorMsg}),n.isLoading=!1,void(n.disabled=!1);n.remeber?e.setStorageSync("loginMsg",n.formData):e.removeStorageSync("loginMsg");var r=(0,o.default)(n.formData,n.PasswrodEncrypted);r.language=n._i18n.locale,a.homeApi.getToken(n,r).finally((function(){n.isLoading=!1,n.disabled=!1}))}),50)},getSysParamer:function(e){return a.homeApi.sysParamer(this,e)},saveWaterMarkConfig:function(e){var n=this;this.$http.get("variable/getValue",{variableName:"WaterMarkConfig"}).then((function(e){var t=e.data.data;n.SET_WATERMARK(t)})).catch((function(e){console.log(JSON.stringify(e))}))}}),mounted:function(){var n=this,t=e.getStorageSync("loginMsg")||{};"{}"!==JSON.stringify(t)&&(this.remeber=!0);var r=this;Promise.all([this.getSysParamer("PasswrodEncrypted")]).then((function(e){var n=e.find((function(e){return!e||!1===e.success}))||"";if(n)throw n;for(var t=0,a=e.length;t<a;t++)r.PasswrodEncrypted=e[t].data;r.isLoading=!1,r.disabled=!1})).catch((function(e){n.Static_GlobalFucs.showModal(n,{content:JSON.stringify(e)},"error")})),this.saveWaterMarkConfig("WaterMarkConfig")},onLoad:function(){this.SET_LOGIN_STATE({})}};n.default=d}).call(this,t("543d")["default"])},"85e0":function(e,n,t){"use strict";t.r(n);var r=t("008e"),a=t.n(r);for(var o in r)"default"!==o&&function(e){t.d(n,e,(function(){return r[e]}))}(o);n["default"]=a.a},ef92:function(e,n,t){"use strict";(function(e){t("ed61");r(t("66fd"));var n=r(t("f86d"));function r(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},f709:function(e,n,t){"use strict";var r,a=function(){var e=this,n=e.$createElement,t=(e._self._c,e.$i18nMsg("lang-remember")),r=e.$i18nMsg("lang-sign-in");e.$mp.data=Object.assign({},{$root:{m0:t,m1:r}})},o=[];t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return o})),t.d(n,"a",(function(){return r}))},f86d:function(e,n,t){"use strict";t.r(n);var r=t("f709"),a=t("85e0");for(var o in a)"default"!==o&&function(e){t.d(n,e,(function(){return a[e]}))}(o);var i,s=t("f0c5"),c=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],i);n["default"]=c.exports}},[["ef92","common/runtime","common/vendor"]]]);